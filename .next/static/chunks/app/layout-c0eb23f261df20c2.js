(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1911:(e,t,r)=>{Promise.resolve().then(r.bind(r,7643)),Promise.resolve().then(r.bind(r,7010)),Promise.resolve().then(r.bind(r,5553)),Promise.resolve().then(r.bind(r,3673)),Promise.resolve().then(r.t.bind(r,9840,23)),Promise.resolve().then(r.t.bind(r,9324,23))},2984:()=>{},3673:(e,t,r)=>{"use strict";r.d(t,{default:()=>E});var o=r(5155),a=r(6715),n=r(5838),s=r(5041),i=r(2002);async function c(){try{return(await i.A.get("robot_management/getup/robot/robot_emergency/")).data.data.robot_emergency}catch(e){throw console.error("Failed to fetch emergency status:",e),Error("Unable to fetch emergency status")}}async function l(e){try{let t=new FormData;return t.append("robot_emergency",String(!e)),(await i.A.put("robot_management/getup/robot/robot_emergency/",t,{headers:{"Content-Type":"multipart/form-data"}})).data.data.robot_emergency}catch(t){try{return(await i.A.put("robot_management/getup/robot/robot_emergency/",{robot_emergency:!e})).data.data.robot_emergency}catch(e){throw console.error("Failed to toggle emergency:",e),Error("Unable to toggle emergency status")}}}var d=r(2115);let u=0,m=new Map,g=e=>{if(m.has(e))return;let t=setTimeout(()=>{m.delete(e),b({type:"REMOVE_TOAST",toastId:e})},1e6);m.set(e,t)},h=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?g(r):e.toasts.forEach(e=>{g(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},y=[],p={toasts:[]};function b(e){p=h(p,e),y.forEach(e=>{e(p)})}function v(e){let{...t}=e,r=(u=(u+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>b({type:"DISMISS_TOAST",toastId:r});return b({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||o()}}}),{id:r,dismiss:o,update:e=>b({type:"UPDATE_TOAST",toast:{...e,id:r}})}}let f="robot_emergency";var S=r(5939),_=r.n(S);r(2984);let w=()=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M6 6h12v12H6z"})}),T=()=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M8 5v14l11-7z"})});function E(){let{active:e,toggleEmergency:t,isLoading:r}=function(){let e=(0,a.jE)(),{data:t=!1,isLoading:r}=(0,n.I)({queryKey:["emergency"],queryFn:async()=>{let e=await c();return localStorage.setItem(f,JSON.stringify(e)),e},refetchInterval:5e3}),o=(0,s.n)({mutationFn:async()=>l(t),onSuccess:t=>{localStorage.setItem(f,JSON.stringify(t)),e.setQueryData(["emergency"],t),v({title:"Emergency ".concat(t?"activated":"cleared")})},onError:e=>{console.error(e),v({title:"Failed to update emergency",description:String(e)})},onSettled:()=>{e.invalidateQueries({queryKey:["emergency"]})}});return{active:t,toggleEmergency:o.mutate,isLoading:o.isPending||r}}(),i=(0,d.useRef)(null),[u,m]=(0,d.useState)(!1);return(0,o.jsx)(_(),{nodeRef:i,onStart:()=>{m(!1)},onDrag:()=>{m(!0)},children:(0,o.jsx)("div",{ref:i,className:"emergencyWrapper",children:(0,o.jsx)("button",{onClick:()=>{!u&&t()},disabled:r,"aria-label":e?"Stop Robot":"Start Robot",className:"emergencyButton ".concat(e?"emergencyActive":"emergencyInactive"),children:r?(0,o.jsx)("div",{className:"spinner"}):e?(0,o.jsx)(w,{}):(0,o.jsx)(T,{})})})})}},7010:(e,t,r)=>{"use strict";r.d(t,{ToasterProvider:()=>n});var o=r(5155),a=r(6671);function n(){return(0,o.jsx)(a.l$,{richColors:!0,position:"top-right"})}},7643:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var o=r(5155),a=r(2775),n=r(6715),s=r(2115),i=r(9314);let c=s.createContext({theme:"system",setTheme:()=>null});function l(e){let{children:t,defaultTheme:r="system",storageKey:a="medbot-ui-theme",...n}=e,[i,l]=s.useState(()=>localStorage.getItem(a)||r);return s.useEffect(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===i){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(i)},[i]),(0,o.jsx)(c.Provider,{...n,value:{theme:i,setTheme:e=>{localStorage.setItem(a,e),l(e)}},children:t})}var d=r(3274);function u(e){let{children:t}=e,[r]=(0,s.useState)(()=>new a.E);return(0,o.jsxs)(n.Ht,{client:r,children:[(0,o.jsx)(l,{attribute:"class",defaultTheme:"light",enableSystem:!1,disableTransitionOnChange:!0,children:(0,o.jsx)(i.GB,{children:(0,o.jsx)(d.O,{children:t})})}),!1]})}},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[657,765,55,442,426,441,684,358],()=>t(1911)),_N_E=e.O()}]);